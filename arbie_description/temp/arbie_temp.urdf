<?xml version="1.0" encoding="utf-8"?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from ../model/arbie.urdf.xacro      | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="arbie">
  <material name="body">
    <color rgba="0 0 1 1"/>
  </material>
  <material name="flipper">
    <color rgba="0 0.8 1 1"/>
  </material>
  <material name="tracks">
    <color rgba="0 0 0 0.5"/>
  </material>
  <material name="wheel">
    <color rgba="1 1 1 0.8"/>
  </material>
  <material name="arm">
    <color rgba="0 1 0 1"/>
  </material>
  <material name="wrist">
    <color rgba="1 1 0 1"/>
  </material>
  <material name="gripper">
    <color rgba="1 1 1 1"/>
  </material>
  <material name="camera">
    <color rgba="1 0.4 0 1"/>
  </material>
  <!-- BASE LINK -->
  <!-- At rotational centre of robot -->
  <link name="base_link">
</link>
  <joint name="base_joint" type="fixed">
    <origin rpy="1.5708 0 1.5708" xyz="0.01 0 0.075"/>
    <parent link="base_link"/>
    <child link="body_link"/>
  </joint>
  <!-- BODY LINK -->
  <link name="body_link">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.0007103904794560104 0.04685539726506198 -0.03652499028281223"/>
      <mass value="132.38352048208554"/>
      <inertia ixx="3.87908" ixy="-0.00108" ixz="-0.002599" iyy="4.409886" iyz="0.163573" izz="0.920138"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://arbie_description/meshes/body.stl"/>
      </geometry>
      <material name="body"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://arbie_description/meshes/body.stl"/>
      </geometry>
    </collision>
  </link>
  <!-- TRACK MESHES -->
  <!-- Bounding mesh for tracks, for collision detection -->
  <link name="tracks_right_link">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.02499954358879042 0.002120489076708521 -0.0007430080149572974"/>
      <mass value="44.76242127990538"/>
      <inertia ixx="1.472289" ixy="-0.0" ixz="-0.0" iyy="1.350001" iyz="0.000109" izz="0.140939"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0.124694 -0.019326 0.010978"/>
      <geometry>
        <mesh filename="package://arbie_description/meshes/tracks_right.stl"/>
      </geometry>
      <material name="tracks"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0.124694 -0.019326 0.010978"/>
      <geometry>
        <mesh filename="package://arbie_description/meshes/tracks_right.stl"/>
      </geometry>
    </collision>
  </link>
  <link name="tracks_left_link">
    <inertial>
      <origin rpy="0 0 0" xyz="0.02500045641121243 0.00212048907670849 -0.000743015955378042"/>
      <mass value="44.76242127990538"/>
      <inertia ixx="1.472289" ixy="-0.0" ixz="-0.0" iyy="1.350001" iyz="0.000109" izz="0.140939"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="-0.123306 -0.019326 0.010978"/>
      <geometry>
        <mesh filename="package://arbie_description/meshes/tracks_left.stl"/>
      </geometry>
      <material name="tracks"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="-0.123306 -0.019326 0.010978"/>
      <geometry>
        <mesh filename="package://arbie_description/meshes/tracks_left.stl"/>
      </geometry>
    </collision>
  </link>
  <!-- RIGID JOINTS -->
  <joint name="rigid_body_to_tracks_right_joint" type="fixed">
    <origin rpy="0 0 0" xyz="-0.124694 0.019326 -0.010978"/>
    <parent link="body_link"/>
    <child link="tracks_right_link"/>
  </joint>
  <joint name="rigid_body_to_tracks_left_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0.123306 0.019326 -0.010978"/>
    <parent link="body_link"/>
    <child link="tracks_left_link"/>
  </joint>
  <!-- CAMERA LINKS -->
  <link name="camera_mount_leg_1_link">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.003687719231986318 0.005710165082249932 -1.3429420225863353e-07"/>
      <mass value="0.011972469965960587"/>
      <inertia ixx="1e-06" ixy="0.0" ixz="-0.0" iyy="0.0" iyz="0.0" izz="1e-06"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="-0.037807 -0.048101 -0.262572"/>
      <geometry>
        <mesh filename="package://arbie_description/meshes/camera_mount_leg_1.stl"/>
      </geometry>
      <material name="camera"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="-0.037807 -0.048101 -0.262572"/>
      <geometry>
        <mesh filename="package://arbie_description/meshes/camera_mount_leg_1.stl"/>
      </geometry>
    </collision>
  </link>
  <link name="camera_mount_leg_2_link">
    <inertial>
      <origin rpy="0 0 0" xyz="0.0036876320544024996 0.005710165082249995 -1.3429420259170044e-07"/>
      <mass value="0.011972469965960601"/>
      <inertia ixx="1e-06" ixy="-0.0" ixz="0.0" iyy="0.0" iyz="-0.0" izz="1e-06"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0.039194 -0.048101 -0.262572"/>
      <geometry>
        <mesh filename="package://arbie_description/meshes/camera_mount_leg_2.stl"/>
      </geometry>
      <material name="camera"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0.039194 -0.048101 -0.262572"/>
      <geometry>
        <mesh filename="package://arbie_description/meshes/camera_mount_leg_2.stl"/>
      </geometry>
    </collision>
  </link>
  <link name="camera_mount_link">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.03446385172095636 0.0015631569649731947 0.008958079682170272"/>
      <mass value="0.10512980225278633"/>
      <inertia ixx="1.6e-05" ixy="-2e-06" ixz="1e-06" iyy="5.6e-05" iyz="3e-06" izz="5.4e-05"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="-0.033807 -0.073851 -0.262572"/>
      <geometry>
        <mesh filename="package://arbie_description/meshes/camera_mount.stl"/>
      </geometry>
      <material name="camera"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="-0.033807 -0.073851 -0.262572"/>
      <geometry>
        <mesh filename="package://arbie_description/meshes/camera_mount.stl"/>
      </geometry>
    </collision>
  </link>
  <!-- RIGID JOINTS -->
  <joint name="rigid_body_to_camera_mount_leg_1_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0.037807 0.048101 0.262572"/>
    <parent link="body_link"/>
    <child link="camera_mount_leg_1_link"/>
  </joint>
  <joint name="rigid_body_to_camera_mount_leg_2_joint" type="fixed">
    <origin rpy="0 0 0" xyz="-0.039194 0.048101 0.262572"/>
    <parent link="body_link"/>
    <child link="camera_mount_leg_2_link"/>
  </joint>
  <!-- CAMERA MOUNT JOINT -->
  <joint name="camera_tilt_joint" type="continuous">
    <origin rpy="0 0 0" xyz="-0.004 0.02575 0.0"/>
    <parent link="camera_mount_leg_1_link"/>
    <child link="camera_mount_link"/>
    <axis xyz="1 0 0"/>
  </joint>
  <transmission name="camera_mount_transmission">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="camera_tilt_joint">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="camera_mount_actuator">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <!-- CAMERA SENSORS AND PLUGINS  -->
  <joint name="t265_to_camera_mount_fixed_joint" type="fixed">
    <parent link="camera_mount_link"/>
    <child link="t265_pose_frame"/>
    <origin rpy="-1.57079632679 -1.57079632679 0" xyz="-0.044 -0.0135 0.02"/>
  </joint>
  <!-- INTEL REALSENSE D435 -->
  <!-- INTEL REALSENSE R200 -->
  <!-- camera body, with origin at bottom screw mount -->
  <joint name="d400_joint" type="fixed">
    <origin rpy="-1.57079632679 -1.57079632679 0" xyz="-0.0345 0.004 0.011"/>
    <parent link="camera_mount_link"/>
    <child link="d400_bottom_screw_frame"/>
  </joint>
  <link name="d400_bottom_screw_frame"/>
  <joint name="d400_link_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0 0.0175 0.0125"/>
    <parent link="d400_bottom_screw_frame"/>
    <child link="d400_link"/>
  </joint>
  <link name="d400_link">
    <visual>
      <origin rpy="1.57079632679 0 1.57079632679" xyz="0.0149 -0.0175 0"/>
      <geometry>
        <mesh filename="package://realsense_ros_gazebo/meshes/realsense_d435.stl"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 -0.0175 0"/>
      <geometry>
        <box size="0.02505 0.09 0.025"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.564"/>
      <origin rpy="0 0 0" xyz="0 -0.0175 0"/>
      <inertia ixx="0.000410075" ixy="0" ixz="0" iyy="5.88676175e-05" iyz="0" izz="5.88676175e-05"/>
    </inertial>
  </link>
  <!-- camera depth joints and links -->
  <joint name="d400_depth_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <parent link="d400_link"/>
    <child link="d400_depth_frame"/>
  </joint>
  <link name="d400_depth_frame"/>
  <joint name="d400_depth_optical_joint" type="fixed">
    <origin rpy="-1.57079632679 0 -1.57079632679" xyz="0 0 0"/>
    <parent link="d400_depth_frame"/>
    <child link="d400_depth_optical_frame"/>
  </joint>
  <link name="d400_depth_optical_frame"/>
  <!-- camera left IR joints and links -->
  <joint name="d400_left_ir_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0 0.0 0"/>
    <parent link="d400_depth_frame"/>
    <child link="d400_left_ir_frame"/>
  </joint>
  <link name="d400_left_ir_frame"/>
  <joint name="d400_left_ir_optical_joint" type="fixed">
    <origin rpy="-1.57079632679 0 -1.57079632679" xyz="0 0 0"/>
    <parent link="d400_left_ir_frame"/>
    <child link="d400_left_ir_optical_frame"/>
  </joint>
  <link name="d400_left_ir_optical_frame"/>
  <!-- camera right IR joints and links -->
  <joint name="d400_right_ir_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0 -0.05 0"/>
    <parent link="d400_depth_frame"/>
    <child link="d400_right_ir_frame"/>
  </joint>
  <link name="d400_right_ir_frame"/>
  <joint name="d400_right_ir_optical_joint" type="fixed">
    <origin rpy="-1.57079632679 0 -1.57079632679" xyz="0 0 0"/>
    <parent link="d400_right_ir_frame"/>
    <child link="d400_right_ir_optical_frame"/>
  </joint>
  <link name="d400_right_ir_optical_frame"/>
  <!-- camera color joints and links -->
  <joint name="d400_color_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0 0.015 0"/>
    <parent link="d400_depth_frame"/>
    <child link="d400_color_frame"/>
  </joint>
  <link name="d400_color_frame"/>
  <joint name="d400_color_optical_joint" type="fixed">
    <origin rpy="-1.57079632679 0 -1.57079632679" xyz="0 0 0"/>
    <parent link="d400_color_frame"/>
    <child link="d400_color_optical_frame"/>
  </joint>
  <link name="d400_color_optical_frame"/>
  <!-- gazebo plugin -->
  <gazebo reference="d400_link">
    <self_collide>0</self_collide>
    <enable_wind>0</enable_wind>
    <kinematic>0</kinematic>
    <gravity>1</gravity>
    <mu2>1</mu2>
    <fdir1>0 0 0</fdir1>
    <kp>1e+13</kp>
    <kd>1</kd>
    <sensor name="d400_color" type="camera">
      <camera name="d400">
        <horizontal_fov>1.21125850088</horizontal_fov>
        <image>
          <width>640</width>
          <height>480</height>
          <format>RGB_INT8</format>
        </image>
        <clip>
          <near>0.1</near>
          <far>100</far>
        </clip>
        <noise>
          <type>gaussian</type>
          <mean>0.0</mean>
          <stddev>0.007</stddev>
        </noise>
      </camera>
      <always_on>1</always_on>
      <update_rate>30</update_rate>
      <visualize>1</visualize>
    </sensor>
    <sensor name="d400_ired1" type="camera">
      <camera name="d400">
        <horizontal_fov>1.4870205227</horizontal_fov>
        <image>
          <width>640</width>
          <height>480</height>
          <format>L_INT8</format>
        </image>
        <clip>
          <near>0.1</near>
          <far>100</far>
        </clip>
        <noise>
          <type>gaussian</type>
          <mean>0.0</mean>
          <stddev>0.05</stddev>
        </noise>
      </camera>
      <always_on>1</always_on>
      <update_rate>90</update_rate>
      <visualize>0</visualize>
    </sensor>
    <sensor name="d400_ired2" type="camera">
      <camera name="d400">
        <horizontal_fov>1.4870205227</horizontal_fov>
        <image>
          <width>640</width>
          <height>480</height>
          <format>L_INT8</format>
        </image>
        <clip>
          <near>0.1</near>
          <far>100</far>
        </clip>
        <noise>
          <type>gaussian</type>
          <mean>0.0</mean>
          <stddev>0.05</stddev>
        </noise>
      </camera>
      <always_on>1</always_on>
      <update_rate>90</update_rate>
      <visualize>0</visualize>
    </sensor>
    <sensor name="d400_depth" type="depth">
      <camera name="d400">
        <horizontal_fov>1.4870205227</horizontal_fov>
        <image>
          <width>640</width>
          <height>480</height>
        </image>
        <clip>
          <near>0.1</near>
          <far>100</far>
        </clip>
        <noise>
          <type>gaussian</type>
          <mean>0.0</mean>
          <stddev>0.100</stddev>
        </noise>
      </camera>
      <always_on>1</always_on>
      <update_rate>90</update_rate>
      <visualize>0</visualize>
    </sensor>
  </gazebo>
  <gazebo>
    <plugin filename="librealsense_gazebo_plugin.so" name="d400">
      <prefix>d400_</prefix>
      <depthUpdateRate>50</depthUpdateRate>
      <colorUpdateRate>50</colorUpdateRate>
      <infraredUpdateRate>50</infraredUpdateRate>
      <depthTopicName>aligned_depth_to_color/image_raw</depthTopicName>
      <depthCameraInfoTopicName>aligned_depth_to_color/camera_info</depthCameraInfoTopicName>
      <colorTopicName>color/image_raw</colorTopicName>
      <colorCameraInfoTopicName>color/camera_info</colorCameraInfoTopicName>
      <infrared1TopicName>infra1/image_raw</infrared1TopicName>
      <infrared1CameraInfoTopicName>infra1/camera_info</infrared1CameraInfoTopicName>
      <infrared2TopicName>infra2/image_raw</infrared2TopicName>
      <infrared2CameraInfoTopicName>infra2/camera_info</infrared2CameraInfoTopicName>
      <colorOpticalframeName>d400_color_optical_frame</colorOpticalframeName>
      <depthOpticalframeName>d400_depth_optical_frame</depthOpticalframeName>
      <infrared1OpticalframeName>d400_infrared1_optical_frame</infrared1OpticalframeName>
      <infrared2OpticalframeName>d400_infrared2_optical_frame</infrared2OpticalframeName>
      <rangeMinDepth>0.2</rangeMinDepth>
      <rangeMaxDepth>10.0</rangeMaxDepth>
      <pointCloud>false</pointCloud>
      <pointCloudTopicName>depth/color/points</pointCloudTopicName>
      <pointCloudCutoff>0.25</pointCloudCutoff>
      <pointCloudCutoffMax>9.0</pointCloudCutoffMax>
    </plugin>
  </gazebo>
  <!-- T265 Fisheye:

  gazebo_ros_camera supports only plumb_bob
  D: [-0.007419134024530649, 0.041209351271390915, -0.03811917081475258, 0.006366158835589886, 0.0]

  <distortionK1>-0.007419134024530649</distortionK1>
  <distortionK2>0.041209351271390915</distortionK2>
  <distortionK3>-0.03811917081475258</distortionK3>
  <distortionT1>0.006366158835589886</distortionT1>
  <distortionT2>0.0</distortionT2>

       [fx'  0  cx' Tx]
   P = [ 0  fy' cy' Ty]
       [ 0   0   1   0]

   P : [ 285.5480041503906, 0.0, 416.00531005859375, 0.0,
         0.0, 285.3793029785156, 403.38909912109375, 0.0,
         0.0, 0.0, 1.0, 0.0 ]

  <CxPrime>416.00531005859375</CxPrime>

       [fx  0 cx]
   K = [ 0 fy cy]
       [ 0  0  1]

   K : [ 285.5480041503906, 0.0, 416.00531005859375,
         0.0, 285.3793029785156, 403.38909912109375,
         0.0, 0.0, 1.0]

  <Cx>16.00531005859375</Cx>
  <Cy>403.38909912109375</Cy>

  -->
  <!-- INTEL REALSENSE T265 -->
  <!-- Removed joint to parent link. Add externally. -->
  <link name="t265_pose_frame"/>
  <joint name="t265_pose_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <parent link="t265_pose_frame"/>
    <child link="t265_link"/>
  </joint>
  <link name="t265_link">
    <visual>
      <origin rpy="1.57 0 1.57" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://realsense_ros_gazebo/meshes/realsense_t265.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </visual>
    <collision>
      <geometry>
        <box size="0.013 0.108 0.024"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.055"/>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <inertia ixx="9.108e-05" ixy="0" ixz="0" iyy="2.51e-06" iyz="0" izz="8.931e-05"/>
    </inertial>
  </link>
  <joint name="t265_fisheye1_joint" type="fixed">
    <parent link="t265_link"/>
    <child link="t265_fisheye1_frame"/>
    <origin rpy="0 0 0" xyz="0 0.042 0"/>
  </joint>
  <link name="t265_fisheye1_frame"/>
  <joint name="t265_fisheye1_optical_joint" type="fixed">
    <parent link="t265_fisheye1_frame"/>
    <child link="t265_fisheye1_optical_frame"/>
    <origin rpy="0 0 0" xyz="0.01 0 0"/>
  </joint>
  <link name="t265_fisheye1_optical_frame"/>
  <gazebo reference="t265_fisheye1_optical_frame">
    <sensor name="camera" type="wideanglecamera">
      <camera>
        <horizontal_fov>6.283</horizontal_fov>
        <image>
          <width>800</width>
          <height>848</height>
        </image>
        <clip>
          <near>0.1</near>
          <far>100</far>
        </clip>
        <lens>
          <type>custom</type>
          <custom_function>
            <c1>1.05</c1>
            <c2>4</c2>
            <f>1.0</f>
            <fun>tan</fun>
          </custom_function>
          <scale_to_hfov>true</scale_to_hfov>
          <cutoff_angle>3.1415</cutoff_angle>
          <env_texture_size>512</env_texture_size>
        </lens>
        <always_on>true</always_on>
        <update_rate>30</update_rate>
      </camera>
      <plugin filename="libgazebo_ros_camera.so" name="camera_controller">
        <alwaysOn>true</alwaysOn>
        <updateRate>50</updateRate>
        <cameraName>t265/fisheye1</cameraName>
        <imageTopicName>image_raw</imageTopicName>
        <cameraInfoTopicName>camera_info</cameraInfoTopicName>
        <frameName>t265_fisheye1_optical_frame</frameName>
        <hackBaseline>0.07</hackBaseline>
        <distortionK1>-0.007419134024530649</distortionK1>
        <distortionK2>0.041209351271390915</distortionK2>
        <distortionK3>-0.03811917081475258</distortionK3>
        <distortionT1>0.006366158835589886</distortionT1>
        <distortionT2>0.0</distortionT2>
        <CxPrime>416.00531005859375</CxPrime>
        <Cx>16.00531005859375</Cx>
        <Cy>403.38909912109375</Cy>
      </plugin>
    </sensor>
  </gazebo>
  <joint name="t265_fisheye2_joint" type="fixed">
    <parent link="t265_link"/>
    <child link="t265_fisheye2_frame"/>
    <origin rpy="0 0 0" xyz="0 -0.022 0"/>
  </joint>
  <link name="t265_fisheye2_frame"/>
  <joint name="t265_fisheye2_optical_joint" type="fixed">
    <parent link="t265_fisheye2_frame"/>
    <child link="t265_fisheye2_optical_frame"/>
    <origin rpy="0 0 0" xyz="0.01 0 0"/>
  </joint>
  <link name="t265_fisheye2_optical_frame"/>
  <gazebo reference="t265_fisheye2_optical_frame">
    <sensor name="camera" type="wideanglecamera">
      <camera>
        <horizontal_fov>6.283</horizontal_fov>
        <image>
          <width>800</width>
          <height>848</height>
        </image>
        <clip>
          <near>0.1</near>
          <far>100</far>
        </clip>
        <lens>
          <type>custom</type>
          <custom_function>
            <c1>1.05</c1>
            <c2>4</c2>
            <f>1.0</f>
            <fun>tan</fun>
          </custom_function>
          <scale_to_hfov>true</scale_to_hfov>
          <cutoff_angle>3.1415</cutoff_angle>
          <env_texture_size>512</env_texture_size>
        </lens>
        <always_on>true</always_on>
        <update_rate>30</update_rate>
      </camera>
      <plugin filename="libgazebo_ros_camera.so" name="camera_controller">
        <alwaysOn>true</alwaysOn>
        <updateRate>50</updateRate>
        <cameraName>t265/fisheye2</cameraName>
        <imageTopicName>image_raw</imageTopicName>
        <cameraInfoTopicName>camera_info</cameraInfoTopicName>
        <frameName>t265_fisheye2_optical_frame</frameName>
        <hackBaseline>0.07</hackBaseline>
        <distortionK1>-0.007419134024530649</distortionK1>
        <distortionK2>0.041209351271390915</distortionK2>
        <distortionK3>-0.03811917081475258</distortionK3>
        <distortionT1>0.006366158835589886</distortionT1>
        <distortionT2>0.0</distortionT2>
        <CxPrime>416.00531005859375</CxPrime>
        <Cx>16.00531005859375</Cx>
        <Cy>403.38909912109375</Cy>
      </plugin>
    </sensor>
  </gazebo>
  <joint name="t265_gyro_joint" type="fixed">
    <parent link="t265_link"/>
    <child link="t265_gyro_frame"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <!-- check on real hw -->
  </joint>
  <link name="t265_gyro_frame"/>
  <gazebo reference="t265_gyro_frame">
    <gravity>true</gravity>
    <sensor name="t265_imu" type="imu">
      <always_on>true</always_on>
      <update_rate>50</update_rate>
      <visualize>false</visualize>
      <plugin filename="libgazebo_ros_imu_sensor.so" name="imu_plugin">
        <topicName>t265/gyro/sample</topicName>
        <bodyName>t265_link</bodyName>
        <updateRateHZ>50</updateRateHZ>
        <gaussianNoise>0.000001</gaussianNoise>
        <xyzOffset>0 0 0</xyzOffset>
        <rpyOffset>0 0 0</rpyOffset>
        <frameName>t265_link</frameName>
      </plugin>
    </sensor>
  </gazebo>
  <joint name="t265_accel_joint" type="fixed">
    <parent link="t265_link"/>
    <child link="t265_accel_frame"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <!-- check on real hw -->
  </joint>
  <link name="t265_accel_frame"/>
  <!-- dummy -->
  <!-- For simplicity, just publishes odometry for base_link
    Otherwise, the t265_pose_link has to become the base link -->
  <!-- Also, need to set frameName to world, since the plugin
    complains if the frame doesn't exist. However, this is
    renamed to odom when publishing tf -->
  <gazebo>
    <plugin filename="libgazebo_ros_p3d.so" name="p3d_base_controller">
      <alwaysOn>true</alwaysOn>
      <updateRate>50</updateRate>
      <bodyName>base_link</bodyName>
      <topicName>t265/odom/sample</topicName>
      <gaussianNoise>0.001</gaussianNoise>
      <frameName>world</frameName>
      <xyzOffsets>0 0 0</xyzOffsets>
      <rpyOffsets>0 0 0</rpyOffsets>
    </plugin>
  </gazebo>
  <!-- FLIPPER LINKS -->
  <link name="flipper_front_right_link">
    <inertial>
      <origin rpy="0 0 0" xyz="0.019795020283170317 0.16537558379618636 -1.3146244423611897e-07"/>
      <mass value="13.868020437393694"/>
      <inertia ixx="0.085351" ixy="-0.004876" ixz="0.0" iyy="0.028555" iyz="-0.0" izz="0.07162"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0.174694 -0.024729 -0.219022"/>
      <geometry>
        <mesh filename="package://arbie_description/meshes/flipper_front_right.stl"/>
      </geometry>
      <material name="flipper"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0.174694 -0.024729 -0.219022"/>
      <geometry>
        <mesh filename="package://arbie_description/meshes/flipper_front_right.stl"/>
      </geometry>
    </collision>
  </link>
  <link name="flipper_front_left_link">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.019794107460748195 0.16537558379618633 -1.394028636692024e-07"/>
      <mass value="13.868020437393678"/>
      <inertia ixx="0.085351" ixy="0.004876" ixz="-0.0" iyy="0.028555" iyz="-0.0" izz="0.07162"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="-0.173306 -0.024729 -0.219022"/>
      <geometry>
        <mesh filename="package://arbie_description/meshes/flipper_front_left.stl"/>
      </geometry>
      <material name="flipper"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="-0.173306 -0.024729 -0.219022"/>
      <geometry>
        <mesh filename="package://arbie_description/meshes/flipper_front_left.stl"/>
      </geometry>
    </collision>
  </link>
  <link name="flipper_rear_right_link">
    <inertial>
      <origin rpy="0 0 0" xyz="0.01979502028317115 0.16537558379618683 -1.3146242511252737e-07"/>
      <mass value="13.868020437393698"/>
      <inertia ixx="0.085351" ixy="-0.004876" ixz="0.0" iyy="0.028555" iyz="-0.0" izz="0.07162"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0.174694 -0.024729 0.240978"/>
      <geometry>
        <mesh filename="package://arbie_description/meshes/flipper_rear_right.stl"/>
      </geometry>
      <material name="flipper"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0.174694 -0.024729 0.240978"/>
      <geometry>
        <mesh filename="package://arbie_description/meshes/flipper_rear_right.stl"/>
      </geometry>
    </collision>
  </link>
  <link name="flipper_rear_left_link">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.019794107460749416 0.16537558379618675 -1.394028462664565e-07"/>
      <mass value="13.868020437393671"/>
      <inertia ixx="0.085351" ixy="0.004876" ixz="-0.0" iyy="0.028555" iyz="-0.0" izz="0.07162"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="-0.173306 -0.024729 0.240978"/>
      <geometry>
        <mesh filename="package://arbie_description/meshes/flipper_rear_left.stl"/>
      </geometry>
      <material name="flipper"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="-0.173306 -0.024729 0.240978"/>
      <geometry>
        <mesh filename="package://arbie_description/meshes/flipper_rear_left.stl"/>
      </geometry>
    </collision>
  </link>
  <!-- RIGID JOINTS -->
  <joint name="rigid_flipper_front_right_to_flipper_front_left" type="fixed">
    <origin rpy="0 0 0" xyz="0.347996 0 0"/>
    <parent link="flipper_front_right_link"/>
    <child link="flipper_front_left_link"/>
  </joint>
  <joint name="rigid_flipper_rear_right_to_flipper_rear_left" type="fixed">
    <origin rpy="0 0 0" xyz="0.347996 0 0"/>
    <parent link="flipper_rear_right_link"/>
    <child link="flipper_rear_left_link"/>
  </joint>
  <!-- FLIPPER JOINTS -->
  <joint name="flippers_front_joint" type="continuous">
    <origin rpy="0 0 0" xyz="-0.05 0.005403 0.23"/>
    <parent link="tracks_right_link"/>
    <child link="flipper_front_right_link"/>
    <axis xyz="1 0 0"/>
  </joint>
  <transmission name="flippers_front_transmission">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="flippers_front_joint">
      <hardwareInterface>hardware_interface/VelocityJointInterface</hardwareInterface>
    </joint>
    <actuator name="flippers_front_actuator">
      <hardwareInterface>VelocityJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <joint name="flippers_rear_joint" type="continuous">
    <origin rpy="0 0 0" xyz="-0.05 0.005403 -0.23"/>
    <parent link="tracks_right_link"/>
    <child link="flipper_rear_right_link"/>
    <axis xyz="1 0 0"/>
  </joint>
  <transmission name="flippers_rear_transmission">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="flippers_rear_joint">
      <hardwareInterface>hardware_interface/VelocityJointInterface</hardwareInterface>
    </joint>
    <actuator name="flippers_rear_actuator">
      <hardwareInterface>VelocityJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <!-- EQUIVALENT WHEELS FOR TRACKS -->
  <!-- Used for differential drive controller for kinematics -->
  <!-- Macro to create wheel link with appropriate inertia -->
  <link name="tracks_right_wheel_link">
    <visual>
      <origin rpy="0 1.57079632679 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.04" radius="0.1"/>
      </geometry>
      <material name="wheel"/>
    </visual>
    <collision>
      <origin rpy="0 1.57079632679 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.04" radius="0.1"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 1.57079632679 0" xyz="0 0 0"/>
      <mass value="0.5"/>
      <inertia ixx="0.00131666666667" ixy="0" ixz="0" iyy="0.00131666666667" iyz="0" izz="0.0025"/>
    </inertial>
  </link>
  <link name="tracks_left_wheel_link">
    <visual>
      <origin rpy="0 1.57079632679 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.04" radius="0.1"/>
      </geometry>
      <material name="wheel"/>
    </visual>
    <collision>
      <origin rpy="0 1.57079632679 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.04" radius="0.1"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 1.57079632679 0" xyz="0 0 0"/>
      <mass value="0.5"/>
      <inertia ixx="0.00131666666667" ixy="0" ixz="0" iyy="0.00131666666667" iyz="0" izz="0.0025"/>
    </inertial>
  </link>
  <!-- TRACK WHEEL JOINTS -->
  <joint name="tracks_right_joint" type="continuous">
    <origin rpy="0 0 0" xyz="-0.025 0.0 0.0"/>
    <parent link="tracks_right_link"/>
    <child link="tracks_right_wheel_link"/>
    <axis xyz="1 0 0"/>
  </joint>
  <joint name="tracks_left_joint" type="continuous">
    <origin rpy="0 0 0" xyz="0.025 0.0 0.0"/>
    <parent link="tracks_left_link"/>
    <child link="tracks_left_wheel_link"/>
    <axis xyz="1 0 0"/>
  </joint>
  <transmission name="tracks_right_transmission">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="tracks_right_joint">
      <hardwareInterface>hardware_interface/VelocityJointInterface</hardwareInterface>
    </joint>
    <actuator name="tracks_right_actuator">
      <hardwareInterface>VelocityJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="tracks_left_transmission">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="tracks_left_joint">
      <hardwareInterface>hardware_interface/VelocityJointInterface</hardwareInterface>
    </joint>
    <actuator name="tracks_left_actuator">
      <hardwareInterface>VelocityJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <!-- ARM LINKS -->
  <link name="arm_base_link">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.0016420049931783305 0.023135022831294483 -7.480052882286037e-06"/>
      <mass value="3.3465093478653403"/>
      <inertia ixx="0.005075" ixy="0.000176" ixz="-0.0" iyy="0.010632" iyz="1e-06" izz="0.009087"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0.000694 -0.107101 -0.186272"/>
      <geometry>
        <mesh filename="package://arbie_description/meshes/arm_base.stl"/>
      </geometry>
      <material name="arm"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0.000694 -0.107101 -0.186272"/>
      <geometry>
        <mesh filename="package://arbie_description/meshes/arm_base.stl"/>
      </geometry>
    </collision>
  </link>
  <link name="arm_lower_link">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.053878611230066 0.007243666919340863 -0.13003163766238773"/>
      <mass value="9.290217371436244"/>
      <inertia ixx="0.285483" ixy="0.000938" ixz="-0.009995" iyy="0.285913" iyz="0.0181" izz="0.011485"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="-0.052806 -0.174101 -0.186495"/>
      <geometry>
        <mesh filename="package://arbie_description/meshes/arm_lower.stl"/>
      </geometry>
      <material name="arm"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="-0.052806 -0.174101 -0.186495"/>
      <geometry>
        <mesh filename="package://arbie_description/meshes/arm_lower.stl"/>
      </geometry>
    </collision>
  </link>
  <link name="arm_upper_link">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.016999544747906395 0.013376208584352511 0.039239753662060034"/>
      <mass value="3.0631873001334227"/>
      <inertia ixx="0.015235" ixy="0.0" ixz="0.0" iyy="0.013273" iyz="-0.002633" izz="0.002494"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="-0.019806 -0.209101 0.263505"/>
      <geometry>
        <mesh filename="package://arbie_description/meshes/arm_upper.stl"/>
      </geometry>
      <material name="arm"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="-0.019806 -0.209101 0.263505"/>
      <geometry>
        <mesh filename="package://arbie_description/meshes/arm_upper.stl"/>
      </geometry>
    </collision>
  </link>
  <!-- WRIST LINKS -->
  <link name="wrist_base_link">
    <inertial>
      <origin rpy="0 0 0" xyz="4.57436623640603e-07 0.00012475245793225342 0.025292868333247724"/>
      <mass value="0.9490572232520995"/>
      <inertia ixx="0.000757" ixy="1e-06" ixz="-0.0" iyy="0.001107" iyz="2e-06" izz="0.000496"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="-0.002806 -0.244101 0.038505"/>
      <geometry>
        <mesh filename="package://arbie_description/meshes/wrist_base.stl"/>
      </geometry>
      <material name="wrist"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="-0.002806 -0.244101 0.038505"/>
      <geometry>
        <mesh filename="package://arbie_description/meshes/wrist_base.stl"/>
      </geometry>
    </collision>
  </link>
  <link name="wrist_pitch_link">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.0332984740595477 0.0020671950198172806 0.02282064850736746"/>
      <mass value="0.08039663104912372"/>
      <inertia ixx="5.5e-05" ixy="0.0" ixz="0.0" iyy="9.5e-05" iyz="-7e-06" izz="8e-05"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="-0.036206 -0.244101 -0.014995"/>
      <geometry>
        <mesh filename="package://arbie_description/meshes/wrist_pitch.stl"/>
      </geometry>
      <material name="wrist"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="-0.036206 -0.244101 -0.014995"/>
      <geometry>
        <mesh filename="package://arbie_description/meshes/wrist_pitch.stl"/>
      </geometry>
    </collision>
  </link>
  <link name="wrist_yaw_link">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.013267784777998575 0.01927575393175185 0.016285676232992735"/>
      <mass value="0.6469480906726006"/>
      <inertia ixx="0.000275" ixy="2e-06" ixz="2e-06" iyy="0.000342" iyz="3e-06" izz="0.000171"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="-0.002906 -0.225651 -0.078119"/>
      <geometry>
        <mesh filename="package://arbie_description/meshes/wrist_yaw.stl"/>
      </geometry>
      <material name="wrist"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="-0.002906 -0.225651 -0.078119"/>
      <geometry>
        <mesh filename="package://arbie_description/meshes/wrist_yaw.stl"/>
      </geometry>
    </collision>
  </link>
  <!-- GRIPPER LINKS
<inertial> for gripper contact and linkage links are commented out.
Only the driver link of the gripper is included. It is possible to add in the
whole parallel linkage, but it is difficult to get right and is unstable,
so am just omitting it for now. It's not that important to simulate this.
-->
  <link name="gripper_base_link">
    <inertial>
      <origin rpy="0 0 0" xyz="-4.607760189011137e-05 -0.0006917471996047975 0.03460710409065769"/>
      <mass value="0.6706735500880907"/>
      <inertia ixx="0.000199" ixy="0.0" ixz="0.0" iyy="0.000353" iyz="-3e-06" izz="0.000284"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="-0.002906 -0.244651 -0.123519"/>
      <geometry>
        <mesh filename="package://arbie_description/meshes/gripper_base.stl"/>
      </geometry>
      <material name="gripper"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="-0.002906 -0.244651 -0.123519"/>
      <geometry>
        <mesh filename="package://arbie_description/meshes/gripper_base.stl"/>
      </geometry>
    </collision>
  </link>
  <link name="gripper_right_driver_link">
    <inertial>
      <origin rpy="0 0 0" xyz="4.537220775792383e-07 -0.03094002747411953 0.004350576193156569"/>
      <mass value="0.01374798583124482"/>
      <inertia ixx="5e-06" ixy="-0.0" ixz="0.0" iyy="2e-06" iyz="-1e-06" izz="4e-06"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="-0.018906 -0.263651 -0.172219"/>
      <geometry>
        <mesh filename="package://arbie_description/meshes/gripper_right_driver.stl"/>
      </geometry>
      <material name="gripper"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="-0.018906 -0.263651 -0.172219"/>
      <geometry>
        <mesh filename="package://arbie_description/meshes/gripper_right_driver.stl"/>
      </geometry>
    </collision>
  </link>
  <link name="gripper_right_linkage_link">
    <!--<inertial>
    <origin rpy="0 0 0" xyz="0.005348977862044579 0.00500022075444323 -0.01750042810563407"/>
    <mass value="0.00386409068463368"/>
    <inertia ixx="1e-06" ixy="0.0" ixz="0.0" iyy="1e-06" iyz="-0.0" izz="0.0"/>
  </inertial>-->
    <visual>
      <origin rpy="0 0 0" xyz="0.015 -0.485 -0.09"/>
      <geometry>
        <mesh filename="package://arbie_description/meshes/gripper_right_linkage.stl"/>
      </geometry>
      <material name="gripper"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0.015 -0.485 -0.09"/>
      <geometry>
        <mesh filename="package://arbie_description/meshes/gripper_right_linkage.stl"/>
      </geometry>
    </collision>
  </link>
  <link name="gripper_right_contact_link">
    <!--<inertial>
    <origin rpy="0 0 0" xyz="0.004967829686739981 -0.01899661466926142 0.016466890477460472"/>
    <mass value="0.023712538812289255"/>
    <inertia ixx="7e-06" ixy="1e-06" ixz="2e-06" iyy="7e-06" iyz="-1e-06" izz="4e-06"/>
  </inertial>-->
    <visual>
      <origin rpy="0 0 0" xyz="-0.018906 -0.261251 -0.207219"/>
      <geometry>
        <mesh filename="package://arbie_description/meshes/gripper_right_contact.stl"/>
      </geometry>
      <material name="gripper"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="-0.018906 -0.261251 -0.207219"/>
      <geometry>
        <mesh filename="package://arbie_description/meshes/gripper_right_contact.stl"/>
      </geometry>
    </collision>
  </link>
  
--&gt;


  <link name="gripper_left_driver_link">
    <inertial>
      <origin rpy="0 0 0" xyz="4.552690735497994e-07 -0.030940033304886344 0.004350583148282683"/>
      <mass value="0.013747989643093032"/>
      <inertia ixx="5e-06" ixy="0.0" ixz="0.0" iyy="2e-06" iyz="-1e-06" izz="4e-06"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0.013094 -0.263651 -0.172219"/>
      <geometry>
        <mesh filename="package://arbie_description/meshes/gripper_left_driver.stl"/>
      </geometry>
      <material name="gripper"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0.013094 -0.263651 -0.172219"/>
      <geometry>
        <mesh filename="package://arbie_description/meshes/gripper_left_driver.stl"/>
      </geometry>
    </collision>
  </link>
  <link name="gripper_left_contact_link">
    <!--<inertial>
    <origin rpy="0 0 0" xyz="-0.0049669191825520796 -0.01899661466926142 0.016466890477460527"/>
    <mass value="0.023712538812289255"/>
    <inertia ixx="7e-06" ixy="-1e-06" ixz="-2e-06" iyy="7e-06" iyz="-1e-06" izz="4e-06"/>
  </inertial>-->
    <visual>
      <origin rpy="0 0 0" xyz="0.013094 -0.261251 -0.207219"/>
      <geometry>
        <mesh filename="package://arbie_description/meshes/gripper_left_contact.stl"/>
      </geometry>
      <material name="gripper"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0.013094 -0.261251 -0.207219"/>
      <geometry>
        <mesh filename="package://arbie_description/meshes/gripper_left_contact.stl"/>
      </geometry>
    </collision>
  </link>
  <link name="gripper_left_linkage_link">
    <!--<inertial>
    <origin rpy="0 0 0" xyz="-0.005348977862044579 0.00500022075444323 0.01750042810563407"/>
    <mass value="0.00386409068463368"/>
    <inertia ixx="1e-06" ixy="0.0" ixz="0.0" iyy="1e-06" iyz="-0.0" izz="0.0"/>
  </inertial>-->
    <visual>
      <origin rpy="0 0 0" xyz="0.03671 -0.238651 -0.153719"/>
      <geometry>
        <mesh filename="package://arbie_description/meshes/gripper_left_linkage.stl"/>
      </geometry>
      <material name="gripper"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0.03671 -0.238651 -0.153719"/>
      <geometry>
        <mesh filename="package://arbie_description/meshes/gripper_left_linkage.stl"/>
      </geometry>
    </collision>
  </link>
  <!-- RIGID JOINTS -->
  <joint name="rigid_arm_upper_to_wrist_base_joint" type="fixed">
    <origin rpy="0 0 0" xyz="-0.017 0.035 0.27"/>
    <parent link="arm_upper_link"/>
    <child link="wrist_base_link"/>
  </joint>
  <!-- ARM JOINTS -->
  <joint name="arm_1_joint" type="continuous">
    <origin rpy="0 0 0" xyz="-0.000694 0.107101 0.186272"/>
    <parent link="body_link"/>
    <child link="arm_base_link"/>
    <axis xyz="0 1 0"/>
  </joint>
  <transmission name="arm_1_tran">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="arm_1_joint">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="arm_1_actuator">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <joint name="arm_2_joint" type="revolute">
    <origin rpy="0 0 0" xyz="0.0535 0.067 0.000223"/>
    <parent link="arm_base_link"/>
    <child link="arm_lower_link"/>
    <axis xyz="1 0 0"/>
    <limit effort="1000.0" lower="0.0" upper="3.14159265359" velocity="1"/>
  </joint>
  <transmission name="arm_2_transmission">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="arm_2_joint">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="arm_2_actuator">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <joint name="arm_3_joint" type="revolute">
    <origin rpy="0 0 0" xyz="-0.033 0.035 -0.45"/>
    <parent link="arm_lower_link"/>
    <child link="arm_upper_link"/>
    <axis xyz="-1 0 0"/>
    <limit effort="1000.0" lower="0.0" upper="3.14159265359" velocity="1"/>
  </joint>
  <transmission name="arm_3_transmission">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="arm_3_joint">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="arm_3_actuator">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <!-- WRIST JOINTS -->
  <joint name="wrist_pitch_joint" type="revolute">
    <origin rpy="0 0 0" xyz="0.0334 0.0 0.0535"/>
    <parent link="wrist_base_link"/>
    <child link="wrist_pitch_link"/>
    <axis xyz="1 0 0"/>
    <limit effort="1000.0" lower="1.57079632679" upper="-1.57079632679" velocity="1"/>
  </joint>
  <transmission name="wrist_pitch_transmission">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="wrist_pitch_joint">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="wrist_pitch_actuator">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <joint name="wrist_yaw_joint" type="revolute">
    <origin rpy="0 0 0" xyz="-0.0333 -0.01845 0.063124"/>
    <parent link="wrist_pitch_link"/>
    <child link="wrist_yaw_link"/>
    <axis xyz="0 -1 0"/>
    <limit effort="1000.0" lower="1.57079632679" upper="-1.57079632679" velocity="1"/>
  </joint>
  <transmission name="wrist_yaw_transmsission">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="wrist_yaw_joint">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="wrist_yaw_actuator">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <joint name="wrist_roll_joint" type="continuous">
    <origin rpy="0 0 -1.5708" xyz="0.0 0.019 0.0454"/>
    <parent link="wrist_yaw_link"/>
    <child link="gripper_base_link"/>
    <axis xyz="0 0 1"/>
  </joint>
  <transmission name="wrist_roll_transmission">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="wrist_roll_joint">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="wrist_roll_actuator">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <!-- GRIPPER DRIVEN JOINTS -->
  <!-- Use the right gripper joint as the "driven" joint -->
  <joint name="gripper_joint" type="continuous">
    <origin rpy="0 -0.348 0" xyz="0.016 0.019 0.0487"/>
    <parent link="gripper_base_link"/>
    <child link="gripper_right_driver_link"/>
    <axis xyz="0 1 0"/>
  </joint>
  <transmission name="gripper_right_driver_transmission">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="gripper_joint">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="gripper_right_driver_actuator">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <!-- Mimic gripper_joint to gripper_left_joint -->
  <joint name="gripper_left_joint" type="continuous">
    <origin rpy="0 0.348 0" xyz="-0.016 0.019 0.0487"/>
    <parent link="gripper_base_link"/>
    <child link="gripper_left_driver_link"/>
    <axis xyz="0 1 0"/>
    <mimic joint="gripper_joint" multiplier="-1"/>
  </joint>
  <transmission name="gripper_left_driver_transmission">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="gripper_left_joint">
      <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="gripper_left_driver_actuator">
      <hardwareInterface>PositionJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <!-- Use gazebo mimic joint plugin to drive the left joint too -->
  <gazebo>
    <plugin filename="libroboticsgroup_gazebo_mimic_joint_plugin.so" name="gripper_mimic_joint_plugin">
      <joint>gripper_joint</joint>
      <mimicJoint>gripper_left_joint</mimicJoint>
      <multiplier>-1</multiplier>
    </plugin>
  </gazebo>
  <!-- GRIPPER DEPENDENT JOINTS
Links aren't driven. Set by the gripper parallel linkage.
The <mimic> elements tell ROS how to set the joint values, used for setting the
robot state.
-->
  <joint name="gripper_left_contact_dependent_joint" type="continuous">
    <origin rpy="0 -0.348 0" xyz="0.0 -0.0024 0.035"/>
    <parent link="gripper_left_driver_link"/>
    <child link="gripper_left_contact_link"/>
    <axis xyz="0 1 0"/>
    <mimic joint="gripper_joint"/>
  </joint>
  <joint name="gripper_right_contact_dependent_joint" type="continuous">
    <origin rpy="0 0.348 0" xyz="0.0 -0.0024 0.035"/>
    <parent link="gripper_right_driver_link"/>
    <child link="gripper_right_contact_link"/>
    <axis xyz="0 1 0"/>
    <mimic joint="gripper_joint" multiplier="-1"/>
  </joint>
  <joint name="gripper_left_linkage_dependent_joint" type="continuous">
    <origin rpy="0 0.348 0" xyz="-0.039616 -0.006 0.0302"/>
    <parent link="gripper_base_link"/>
    <child link="gripper_left_linkage_link"/>
    <axis xyz="0 1 0"/>
    <mimic joint="gripper_joint" multiplier="-1"/>
  </joint>
  <joint name="gripper_right_linkage_dependent_joint" type="continuous">
    <origin rpy="0 -0.348 0" xyz="0.039616 -0.006 0.0302"/>
    <parent link="gripper_base_link"/>
    <child link="gripper_right_linkage_link"/>
    <axis xyz="0 1 0"/>
    <mimic joint="gripper_joint"/>
  </joint>
  <!-- GAZEBO GRIPPER LINKAGE
Currently not used, since neither option works particularly well
-->
  <!-- OPTION 1: Use mimic joints plugin
Will drive the dependent angles with the correct angles.
Problem: The contact links seem to drift for some reason.
-->
  <!--
<gazebo>
<xacro:mimic_joint_plugin_gazebo
    parent_joint="gripper_left_joint" mimic_joint="gripper_left_contact_dependent_joint"
    multiplier="-1.0"/>

<xacro:mimic_joint_plugin_gazebo
    parent_joint="gripper_right_joint" mimic_joint="gripper_right_contact_dependent_joint"
    multiplier="-1.0"/>

<xacro:mimic_joint_plugin_gazebo
    parent_joint="gripper_left_joint" mimic_joint="gripper_left_linkage_dependent_joint"
    multiplier="1.0"/>

<xacro:mimic_joint_plugin_gazebo
    parent_joint="gripper_right_joint" mimic_joint="gripper_right_linkage_dependent_joint"
    multiplier="1.0"/>
</gazebo>
-->
  <!-- OPTION 2: Add joints to close the parallel linkages
Can't include these in the standard model, since ROS doesn't support parallel linkages.
However, Gazebo implements joints as a list of constraints that must be satisfied,
so you can add whatever joints you want.
Problem: Can close the parallel linkage, but doesn't respond to angle
commands and just stays stuck or becomes unstable.
-->
  <!--
<gazebo>

<joint name='gripper_left_linkage_dependent_joint2' type='revolute'>
  <pose>-0.0235 -0.0225 -0.0185 0 0 0</pose>
  <child>gripper_left_contact_link</child>
  <parent>gripper_left_linkage_link</parent>
  <axis>
    <xyz>-4e-06 1 -4e-06</xyz>
    <limit>
      <lower>-1e+16</lower>
      <upper>1e+16</upper>
    </limit>
    <dynamics>
      <spring_reference>0</spring_reference>
      <spring_stiffness>0</spring_stiffness>
    </dynamics>
    <use_parent_model_frame>1</use_parent_model_frame>
  </axis>
</joint>

<joint name='gripper_right_linkage_dependent_joint2' type='revolute'>
  <pose>0.0235 -0.0225 -0.0185 0 0 0</pose>
  <child>gripper_right_contact_link</child>
  <parent>gripper_right_linkage_link</parent>
  <axis>
    <xyz>-4e-06 1 -4e-06</xyz>
    <limit>
      <lower>-1e+16</lower>
      <upper>1e+16</upper>
    </limit>
    <dynamics>
      <spring_reference>0</spring_reference>
      <spring_stiffness>0</spring_stiffness>
    </dynamics>
    <use_parent_model_frame>1</use_parent_model_frame>
  </axis>
</joint>

</gazebo>
-->
</robot>

