<launch>
    <param
        name="robot_description"
        command="cat $(find arbie_description)/model/arbie.urdf"
    />
    <!-- Just using urdf at the moment
    <param
        name="robot_description_sdf"
        command="cat $(find arbie_description)/model/arbie.sdf"
    /> -->
    <rosparam
        file="$(find arbie_debug)/config/arm_controllers.yaml"
        command="load"
    />
    <node
        name="controller_spawner"
        pkg="controller_manager"
        type="spawner"
        respawn="false"
        args="arm_trajectory_controller gripper_trajectory_controller"
    />

    <!-- In future, use sdf instead of urdf, which can define parallel linkages -->
    <node
        name="spawn_model"
        pkg="gazebo_ros"
        type="spawn_model"
        args="-param robot_description -urdf -x 0 -y 0 -z 0 -model arbie -b -gazebo_namespace gzserver"
    />
    <node
        name="robot_state_publisher"
        pkg="robot_state_publisher"
        type="robot_state_publisher"
    />
    <node
        name="rviz"
        pkg="rviz"
        type="rviz"
        args="-d $(find arbie_debug)/config/view_model.rviz"
    />
    <include file="$(find arbie_moveit_config)/launch/move_group.launch"/>
</launch>
